- name: zed
  type: shell
  commands:
    - mkdir -p /usr/zed.app
    - curl -L "https://cloud.zed.dev/releases/stable/latest/download?asset=zed&arch=x86_64&os=linux&source=docs" -o /tmp/zed.tar.gz
    - tar -xvf /tmp/zed.tar.gz -C /usr/zed.app --strip-components=1
    - ln -sf /usr/zed.app/bin/zed /usr/bin/zed
    - cp /usr/zed.app/share/applications/zed.desktop /usr/share/applications/dev.zed.Zed.desktop
    - sed -i "s|Icon=zed|Icon=/usr/zed.app/share/icons/hicolor/512x512/apps/zed.png|g" /usr/share/applications/dev.zed.Zed.desktop
    - sed -i "s|Exec=zed|Exec=/usr/zed.app/libexec/zed-editor|g" /usr/share/applications/dev.zed.Zed.desktop

- name: microsoft-prod-repo
  type: shell
  commands:
    - wget https://code.visualstudio.com/sha/download?build=stable&os=linux-deb-x64
    - dpkg -i code_*.deb
    - apt update

